# STDIN Examples - –î–∏–Ω–∞–º—ñ—á–Ω–∏–π –≤–≤—ñ–¥ —á–µ—Ä–µ–∑ STDIN

## üìù –©–æ —Ç–∞–∫–µ STDIN?

**STDIN** (Standard Input) - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ø–æ—Ç—ñ–∫ –≤–≤–æ–¥—É, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –ø—Ä–æ–≥—Ä–∞–º–∞–º –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ –∑ —Ä—ñ–∑–Ω–∏—Ö –¥–∂–µ—Ä–µ–ª:
- üéπ –ö–ª–∞–≤—ñ–∞—Ç—É—Ä–∞ (—ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ)
- üìÑ –§–∞–π–ª–∏
- üîó Pipe –∑ —ñ–Ω—à–∏—Ö –ø—Ä–æ–≥—Ä–∞–º
- üìú –°–∫—Ä–∏–ø—Ç–∏

---

## üìÅ –§–∞–π–ª–∏ –≤ —Ü—ñ–π –ø–∞–ø—Ü—ñ

| –§–∞–π–ª | –û–ø–∏—Å |
|------|------|
| `basic_stdin.go` | –ë–∞–∑–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥ —á–∏—Ç–∞–Ω–Ω—è –∑ STDIN |
| `calculator_stdin.go` | –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —á–µ—Ä–µ–∑ STDIN |
| `test_stdin.sh` | –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è |
| `README.md` | –¶—è —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è |

---

## üöÄ –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

### 1. –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Ä–µ–∂–∏–º (–∑ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏)

```bash
go run basic_stdin.go
# –ü—Ä–æ–≥—Ä–∞–º–∞ —á–µ–∫–∞—î –≤–≤—ñ–¥
# –í–≤–µ–¥—ñ—Ç—å: –Ü–≤–∞–Ω
# –í–≤–µ–¥—ñ—Ç—å: 25
```

### 2. –ß–µ—Ä–µ–∑ echo

```bash
# –û–¥–∏–Ω —Ä—è–¥–æ–∫
echo "–Ü–≤–∞–Ω" | go run basic_stdin.go

# –ö—ñ–ª—å–∫–∞ —Ä—è–¥–∫—ñ–≤
echo -e "–Ü–≤–∞–Ω\n25" | go run basic_stdin.go
```

### 3. –ß–µ—Ä–µ–∑ printf

```bash
printf "–ú–∞—Ä—ñ—è\n22\n" | go run basic_stdin.go
```

### 4. Heredoc (–±–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–∏–π –≤–≤—ñ–¥)

```bash
go run basic_stdin.go << EOF
–ü–µ—Ç—Ä–æ
30
EOF
```

### 5. –ó —Ñ–∞–π–ª—É

```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª –∑ –¥–∞–Ω–∏–º–∏
cat > input.txt << EOF
–û–ª–µ–Ω–∞
28
EOF

# –í–∞—Ä—ñ–∞–Ω—Ç 1: redirect
go run basic_stdin.go < input.txt

# –í–∞—Ä—ñ–∞–Ω—Ç 2: —á–µ—Ä–µ–∑ cat
cat input.txt | go run basic_stdin.go
```

### 6. –í —Ü–∏–∫–ª—ñ (—Å–∫—Ä–∏–ø—Ç)

```bash
# –û–±—Ä–æ–±–∏—Ç–∏ —Å–ø–∏—Å–æ–∫ —ñ–º–µ–Ω
for name in –Ü–≤–∞–Ω –ú–∞—Ä—ñ—è –ü–µ—Ç—Ä–æ; do
    echo "$name" | go run basic_stdin.go
done
```

### 7. Pipe –∑ —ñ–Ω—à–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏

```bash
# –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª—ñ–≤ ‚Üí —Ñ—ñ–ª—å—Ç—Ä
ls -la | grep ".go" | go run basic_stdin.go

# –ó —ñ–Ω—à–æ–≥–æ Go —Å–∫—Ä–∏–ø—Ç–∞
echo "–Ü–≤–∞–Ω" | go run basic_stdin.go | go run another_program.go
```

---

## üßÆ –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–º

### –ë–∞–∑–æ–≤–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```bash
# –î–æ–¥–∞–≤–∞–Ω–Ω—è
echo -e "10\n+\n5" | go run calculator_stdin.go

# –í—ñ–¥–Ω—ñ–º–∞–Ω–Ω—è
echo -e "20\n-\n7" | go run calculator_stdin.go

# –ú–Ω–æ–∂–µ–Ω–Ω—è
printf "3\n*\n4\n" | go run calculator_stdin.go

# –î—ñ–ª–µ–Ω–Ω—è
go run calculator_stdin.go << EOF
100
/
4
EOF
```

### –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É

```bash
# –ó–±–µ—Ä–µ–≥—Ç–∏ –≤ —Ñ–∞–π–ª
echo -e "10\n+\n5" | go run calculator_stdin.go > result.txt

# –¢—ñ–ª—å–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–±–µ–∑ –ø—ñ–¥–∫–∞–∑–æ–∫)
echo -e "10\n+\n5" | go run calculator_stdin.go 2>/dev/null

# –¢—ñ–ª—å–∫–∏ –ø—ñ–¥–∫–∞–∑–∫–∏ (–±–µ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É)
echo -e "10\n+\n5" | go run calculator_stdin.go 2>&1 >/dev/null
```

### –í —Ü–∏–∫–ª—ñ

```bash
# –û–±—á–∏—Å–ª–∏—Ç–∏ –∫—ñ–ª—å–∫–∞ –ø—Ä–∏–∫–ª–∞–¥—ñ–≤
for i in 1 2 3 4 5; do
    echo -e "$i\n*\n2" | go run calculator_stdin.go 2>/dev/null
done
```

---

## üß™ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –ø—Ä–∏–∫–ª–∞–¥—ñ–≤:

```bash
# –ó—Ä–æ–±–∏—Ç–∏ —Å–∫—Ä–∏–ø—Ç –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–º
chmod +x test_stdin.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–∏
./test_stdin.sh
```

---

## üí° STDOUT vs STDERR

**–í–∞–∂–ª–∏–≤–æ —Ä–æ–∑—É–º—ñ—Ç–∏!**

### STDOUT (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –≤–∏–≤—ñ–¥)
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è **—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤** –ø—Ä–æ–≥—Ä–∞–º–∏
- `fmt.Println()`, `fmt.Printf()`
- –ô–¥–µ –≤ pipe, —Ñ–∞–π–ª–∏ –ø—Ä–∏ redirect

### STDERR (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ø–æ—Ç—ñ–∫ –ø–æ–º–∏–ª–æ–∫)
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è **–ø—ñ–¥–∫–∞–∑–æ–∫** —Ç–∞ **–ø–æ–º–∏–ª–æ–∫**
- `fmt.Fprintln(os.Stderr, ...)`
- –ô–¥–µ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª, –ù–ï –ø–æ—Ç—Ä–∞–ø–ª—è—î –≤ pipe/—Ñ–∞–π–ª

### –ü—Ä–∏–∫–ª–∞–¥

```go
// –ü—ñ–¥–∫–∞–∑–∫–∞ (STDERR) - –Ω–µ –ø–æ—Ç—Ä–∞–ø–∏—Ç—å –≤ pipe
fmt.Fprintln(os.Stderr, "–í–≤–µ–¥—ñ—Ç—å —ñ–º'—è:")

// –†–µ–∑—É–ª—å—Ç–∞—Ç (STDOUT) - –ø–æ—Ç—Ä–∞–ø–∏—Ç—å –≤ pipe
fmt.Println("–ü—Ä–∏–≤—ñ—Ç, –Ü–≤–∞–Ω!")
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ bash

```bash
# –¢—ñ–ª—å–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–ø—ñ–¥–∫–∞–∑–∫–∏ –Ω–∞ –µ–∫—Ä–∞–Ω—ñ)
echo "–Ü–≤–∞–Ω" | go run program.go

# –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–∞–π–ª, –ø—ñ–¥–∫–∞–∑–∫–∏ –Ω–∞ –µ–∫—Ä–∞–Ω—ñ
echo "–Ü–≤–∞–Ω" | go run program.go > output.txt

# –†–µ–∑—É–ª—å—Ç–∞—Ç —ñ –ø—ñ–¥–∫–∞–∑–∫–∏ –≤ —Ñ–∞–π–ª
echo "–Ü–≤–∞–Ω" | go run program.go > output.txt 2>&1

# –¢—ñ–ª—å–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –ø—ñ–¥–∫–∞–∑–∫–∏ –≤ /dev/null
echo "–Ü–≤–∞–Ω" | go run program.go 2>/dev/null

# –¢—ñ–ª—å–∫–∏ –ø—ñ–¥–∫–∞–∑–∫–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ /dev/null
echo "–Ü–≤–∞–Ω" | go run program.go 2>&1 >/dev/null
```

---

## üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –º–µ—Ç–æ–¥—ñ–≤

| –ú–µ—Ç–æ–¥ | Pipe | –§–∞–π–ª–∏ | –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ | –°–∫—Ä–∏–ø—Ç–∏ |
|-------|------|-------|--------------|---------|
| **os.Args** | ‚ùå | ‚ùå | ‚ùå | ‚úÖ |
| **–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π** | ‚ùå | ‚ùå | ‚úÖ | ‚ùå |
| **STDIN** | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |

**–í–∏—Å–Ω–æ–≤–æ–∫:** STDIN - –Ω–∞–π—É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ—à–∏–π –ø—ñ–¥—Ö—ñ–¥! üèÜ

---

## üõ†Ô∏è –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ —î –¥–∞–Ω—ñ –≤ STDIN

```go
func hasStdin() bool {
    stat, _ := os.Stdin.Stat()
    return (stat.Mode() & os.ModeCharDevice) == 0
}
```

### –¢–∞–π–º–∞—É—Ç –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è

```go
type timeoutScanner struct {
    *bufio.Scanner
    timeout time.Duration
}

func (ts *timeoutScanner) Scan() bool {
    ch := make(chan bool, 1)
    go func() {
        ch <- ts.Scanner.Scan()
    }()
    
    select {
    case result := <-ch:
        return result
    case <-time.After(ts.timeout):
        return false
    }
}
```

---

## üéØ –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è

### –ó–∞–≤–¥–∞–Ω–Ω—è 1: –§—ñ–ª—å—Ç—Ä
–°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É —è–∫–∞ —á–∏—Ç–∞—î —Ä—è–¥–∫–∏ –∑ STDIN —ñ –≤–∏–≤–æ–¥–∏—Ç—å —Ç—ñ–ª—å–∫–∏ —Ç—ñ, —â–æ –º—ñ—Å—Ç—è—Ç—å –ø–µ–≤–Ω–µ —Å–ª–æ–≤–æ.

```bash
cat file.txt | go run filter.go "error"
```

### –ó–∞–≤–¥–∞–Ω–Ω—è 2: –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫
–°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É —è–∫–∞ —Ä–∞—Ö—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤ —É STDIN.

```bash
cat file.txt | go run count.go
```

### –ó–∞–≤–¥–∞–Ω–Ω—è 3: –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è
–°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É —è–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç—É—î —Ç–µ–∫—Å—Ç —É UPPERCASE.

```bash
echo "hello world" | go run uppercase.go
```

### –ó–∞–≤–¥–∞–Ω–Ω—è 4: JSON –æ–±—Ä–æ–±–∫–∞
–°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É —è–∫–∞ —á–∏—Ç–∞—î JSON –∑ STDIN —ñ –≤–∏–≤–æ–¥–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω–∏–π —Ç–µ–∫—Å—Ç.

```bash
echo '{"name":"–Ü–≤–∞–Ω","age":25}' | go run json_reader.go
```

---

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- **–¢–µ–æ—Ä—ñ—è:** `../../theory/07_stdin_dynamic_input.md`
- **–†—ñ—à–µ–Ω–Ω—è:** `../../solutions/solution_1_stdin.go`
- **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è:** `../INTERACTIVE_vs_CLI.md`

---

## üéì –ü–æ—Ä–∞–¥–∏

1. ‚úÖ –ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `fmt.Fprintln(os.Stderr, ...)` –¥–ª—è –ø—ñ–¥–∫–∞–∑–æ–∫
2. ‚úÖ –ó–∞–≤–∂–¥–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ –ø–æ–º–∏–ª–∫–∏ `scanner.Err()`
3. ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `strings.TrimSpace()` –¥–ª—è –æ—á–∏—â–µ–Ω–Ω—è –≤–≤–æ–¥—É
4. ‚úÖ –¢–µ—Å—Ç—É–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º—É –≤—Å—ñ–º–∞ —Å–ø–æ—Å–æ–±–∞–º–∏ (echo, —Ñ–∞–π–ª, heredoc)
5. ‚úÖ –†–æ–±—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º–∏ –≥–Ω—É—á–∫–∏–º–∏ (–ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö –¥–∂–µ—Ä–µ–ª)

---

**–£—Å–ø—ñ—Ö—ñ–≤ —É —Ä–æ–±–æ—Ç—ñ –∑ STDIN! üöÄ**

