# Decorator Pattern

## üìã –û–ø–∏—Å

**Decorator** - —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –¥–∏–Ω–∞–º—ñ—á–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –æ–±'—î–∫—Ç–∞–º, –æ–±–≥–æ—Ä—Ç–∞—é—á–∏ —ó—Ö –≤ –∫–æ—Ä–∏—Å–Ω—ñ "–æ–±–≥–æ—Ä—Ç–∫–∏".

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

- –ü–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –±–µ–∑ –∑–º—ñ–Ω–∏ –∫–ª–∞—Å—É
- –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –¥–æ–¥–∞—î—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ (runtime)
- –ö–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- –ù–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è –Ω–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å (–∑–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ –ø—ñ–¥–∫–ª–∞—Å—ñ–≤)

**–ü—Ä–∏–∫–ª–∞–¥:**  
–ö–∞–≤–∞: Espresso + Milk + Sugar + Whipped Cream

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è

1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑–æ–≤–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è (–±–∞–∑–æ–≤–∏–π –æ–±'—î–∫—Ç)
3. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å —Ç–æ–π —Å–∞–º–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
4. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏ –æ–±–≥–æ—Ä—Ç–∞—é—Ç—å –±–∞–∑–æ–≤–∏–π –æ–±'—î–∫—Ç
5. –ú–æ–∂–Ω–∞ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏

---

## üîß –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –≤ Go

```go
// –ë–∞–∑–æ–≤–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
type Coffee interface {
    GetDescription() string
    GetCost() float64
}

// –ë–∞–∑–æ–≤–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
type Espresso struct{}

func (e *Espresso) GetDescription() string {
    return "Espresso"
}

func (e *Espresso) GetCost() float64 {
    return 2.00
}

// –î–µ–∫–æ—Ä–∞—Ç–æ—Ä
type MilkDecorator struct {
    coffee Coffee
}

func (m *MilkDecorator) GetDescription() string {
    return m.coffee.GetDescription() + ", Milk"
}

func (m *MilkDecorator) GetCost() float64 {
    return m.coffee.GetCost() + 0.50
}

// –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
coffee := &Espresso{}
coffee = &MilkDecorator{coffee}  // +Milk
coffee = &SugarDecorator{coffee} // +Sugar
```

---

## ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏

- ‚úÖ –î–∏–Ω–∞–º—ñ—á–Ω–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ
- ‚úÖ –ö–æ–º–±—ñ–Ω—É–≤–∞–Ω–Ω—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ–≤
- ‚úÖ Single Responsibility - –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è = –æ–¥–∏–Ω –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
- ‚úÖ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—é

## ‚ùå –ù–µ–¥–æ–ª—ñ–∫–∏

- ‚ùå –ë–∞–≥–∞—Ç–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö –∫–ª–∞—Å—ñ–≤
- ‚ùå –°–∫–ª–∞–¥–Ω–æ –≤–∏–¥–∞–ª—è—Ç–∏ –æ–±–≥–æ—Ä—Ç–∫–∏
- ‚ùå –ü–æ—Ä—è–¥–æ–∫ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ–≤ –º–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è

---

## üéì –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

‚úÖ **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–æ–ª–∏:**
- –ü–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –¥–∏–Ω–∞–º—ñ—á–Ω–æ
- –ù–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è –Ω–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å
- –•–æ—á–µ—Ç–µ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—ó
- –ù–µ —Ö–æ—á–µ—Ç–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π –∫–æ–¥

‚ùå **–ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–æ–ª–∏:**
- –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å —Å—Ç–∞—Ç–∏—á–Ω–∞
- –ü—Ä–æ—Å—Ç–∏–π –∫–ª–∞—Å –±–µ–∑ —Ä–æ–∑—à–∏—Ä–µ–Ω—å

---

## üåç –†–µ–∞–ª—å–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏

### –í Go stdlib:
- `io.Reader` decorators: `bufio.Reader`, `io.TeeReader`, `gzip.Reader`
- `http.Handler` middleware
- `context.Context` wrapping

### –í —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö:
- HTTP middleware (logging, auth, compression)
- Stream processing (buffering, encryption, compression)
- UI components decorating
- Caching layers

---

## üíª –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥

```bash
go run main.go
```

---

## üìö –ë—ñ–ª—å—à–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó

- [Refactoring.Guru - Decorator](https://refactoring.guru/design-patterns/decorator)

